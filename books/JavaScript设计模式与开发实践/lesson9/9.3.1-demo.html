<!DOCTYPE html><html lang="en"><head>  <meta charset="UTF-8">  <title>Title</title></head><body><div>  <ui>    <li>      <button id="button1">add</button>      <button id="button2">minus</button>    </li>    <p id="text">0</p>  </ui></div><script>  /**   * JavaScript 中的命令模式   */  const button1 = document.getElementById('button1')  const button2 = document.getElementById('button2')  const text = document.getElementById('text')  const setCommand = function (button1, button2, command) {      button1.onclick = function () {        command.execute()      }      button2.onclick = function () {        command.undo()      }    }  const MenuBar = {    index: 0,    stack: [],    addCount: function () {      const old = +text.textContent      this.stack.push(old)      this.index++      text.textContent = old + 1    },    minuCount: function () {      const val = this.stack[this.index - 1]      if (val) {        text.textContent = val        this.stack.pop()        this.index--      }    }  }  /**   * 将接受者保存在闭包环境中   * @param receiver   * @return {function(...[*]=)}   * @constructor   */  const RefreshMenuBarCommand = function (receiver) {    return {      execute: function () {        receiver.addCount()      },      undo: function () {        receiver.minuCount()      }    }  }  const refreshMenuBarCommand = RefreshMenuBarCommand(MenuBar)  setCommand(button1, button2, refreshMenuBarCommand)</script></body></html>